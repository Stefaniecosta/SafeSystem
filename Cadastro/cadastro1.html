<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="cadastro1.css">
  <title>Cadastro</title>
</head>

<body>

  <div class="container-maior-cadastro">

    <!----------Container direito--------->
    <div class="container-esquerdo-cadastro">
      <div class="formulario-cadastro">
        <form action="">
          <h1 class="msg">Preencha seus dados</h1>
          <div class="social-container">
          </div>
          <input type="text" placeholder="Nome completo*" name="nome" id="idNome" onkeyup="ValidarNome()" />
          <div id="validacao_nome" class="msgErro-cadastro">Insira seu nome completo</div>


          <input type="text" placeholder="CNPJ*" onblur="validarCNPJ(this)" onkeypress="mascaraCnpj()" id="idCnpj"
            maxlength="18" />
          <div id="validacao_CNPJ" class="msgErro-cadastro">CNPJ inválido!</div>


          <input type="email" placeholder="Email*" id="email" onblur="validarEmail()" />
          <div id="div_msg1" class="msgErro-cadastro">Email inválido!</div>

          <input type="text" placeholder="Confirmação do email*" onkeyup="compara()" id="comparaEmail" />
          <div id="validacao_comparaEmail" class="msgErro-cadastro">Os email não confere!</div>


          <input type="text" placeholder="Telefone*" />
          <div id="validacao_telefone" class="msgErro-cadastro">Telefone invãlido!</div>

          <!--Campo check mostrar senhas-->

          <div for="" class="label-cadastro" style="color: aliceblue;">
            <span class="check-cadastro">Concordo com os termos de uso</span>
            
          <div class="custom-checkbox">
            <input id="checkbox-1" type="checkbox">
            <label for="checkbox-1"></label>
          </div>

          </div>


          <button class="buttonForm-cadastro" type="submit">Confirme</button>
        </form>
      </div>
    </div>

    <!----------Container esquerdo--------->

    <div class="container-direito-cadastro">
      <div class="img-cadastro"></div> 
    </div>
  </div>

</body>

</html>
<script>


  //----------------- validar nome ------------//


  function ValidarNome() {

    var nome = document.getElementById('idNome');

    if (nome.value.length < 8) {
      idNome.style.borderColor = 'red';
      validacao_nome.style.visibility = 'visible';

    } else {
      idNome.style.borderColor = 'white';
      validacao_nome.style.visibility = 'hidden';
    }

    // sumir mensagem ao apagar
    if (idNome.value == '') {
      idNome.style.borderColor = 'white';
      validacao_nome.style.visibility = 'hidden';
    }


  }



  //----------------- comparar email´s ------------//

  function compara() {

    var primeiroEmail = document.getElementById('email');
    var segundoEmail = document.getElementById('comparaEmail');

    if (primeiroEmail.value != segundoEmail.value) {
      comparaEmail.style.borderColor = 'red';
      validacao_comparaEmail.style.visibility = 'visible';
    } else {
      comparaEmail.style.borderColor = 'white';
      validacao_comparaEmail.style.visibility = 'hidden';
    }


    // sumir mensagem ao apagar
    if (primeiroEmail.value == '' || segundoEmail.value == '') {
      comparaEmail.style.borderColor = 'white';
      validacao_comparaEmail.style.visibility = 'hidden';

    }

  }


  //--------- validação do email ----------- //

  function validarEmail() {

    var email = document.querySelector('#email');

    if (!email.checkValidity()) {
      // alert("deu errado");
      email.style.borderColor = 'red';
      div_msg1.style.visibility = 'visible';
    } else {
      email.style.borderColor = 'white';
      div_msg1.style.visibility = 'hidden';
    }

  }




  //-------------------------------mascara CNPJ ---------------------- //

  // Ressaltando que a validação é realizada conforme o algoritmo do CNPJ, o que significa que
  // um número válido não necessariamente é um número existente e com situação cadastral 
  //regular perante a Receita Federal do Brasil.


  function mascaraCnpj() {


    var cnpj = document.getElementById('idCnpj');


    if (cnpj.value.length == 2 || cnpj.value.length == 6) {
      cnpj.value += ".";

    } else if (cnpj.value.length == 10) {
      cnpj.value += "/";

    } else if (cnpj.value.length == 15) {
      cnpj.value += "-";
    }


  }

  //função que compara
  function validarCNPJ(el) {

    if (!_cnpj(el.value)) {

      idCnpj.style.borderColor = 'red';
      validacao_CNPJ.style.visibility = 'visible';
    } else {
      // apaga o valor
      //  el.value = "";
      idCnpj.style.borderColor = 'white';
      validacao_CNPJ.style.visibility = 'hidden';
    }



    // sumir mensagem ao apagar
    if (idCnpj.value == '') {
      idCnpj.style.borderColor = 'white';
      validacao_CNPJ.style.visibility = 'hidden';
    }

  }


  //------------------------------- função da validação do CNPJ ---------------------- //

  function _cnpj(cnpj) {


    // substituindo valores invalidos, para campo vazio (depois da virgula)
    cnpj = cnpj.replace(/[^\d]+/g, '');

    if (cnpj == '') return false; // se cnpj for igual a nada, retorna fals0

    if (cnpj.length != 14)
      return false; // se o tamanho for diferente de 14 retorna zero


    if (cnpj == "00000000000000" ||
      cnpj == "11111111111111" ||
      cnpj == "22222222222222" ||
      cnpj == "33333333333333" ||
      cnpj == "44444444444444" ||
      cnpj == "55555555555555" ||
      cnpj == "66666666666666" ||
      cnpj == "77777777777777" ||
      cnpj == "88888888888888" ||
      cnpj == "99999999999999")
      return false;  // eliminando numeros invalidos conhecidos 

    //valida dvs
    tamanho = cnpj.length - 2
    numeros = cnpj.substring(0, tamanho);
    digitos = cnpj.substring(tamanho);
    soma = 0;
    pos = tamanho - 7;

    //A declaração for começa declarando a variável i e inicializando-a como o valor do tamanho.
    // Ela verifica se i é maior ou igual que 1, executa as duas instruções subsequentes e decrementra 1 da variável i
    // diminui e retorna o valor antes de diminuir. após cada passagem pelo loop.
    for (i = tamanho; i >= 1; i--) {
      soma += numeros.charAt(tamanho - i) * pos--; //valor de soma é reatribuido por numero, retorna o tamanho - o indice do i
      if (pos < 2)
        pos = 9;
    }

    resultado = soma % 11 < 2 ? 0 : 11 - soma % 11; // resultado, é a soma é subtraido de 11.
    // e se for menor que 2, seu resultado é zero.


    //segundo numero do dvs
    if (resultado != digitos.charAt(0)) return false;
    tamanho = tamanho + 1;
    numeros = cnpj.substring(0, tamanho);
    soma = 0;
    pos = tamanho - 7;
    for (i = tamanho; i >= 1; i--) {
      soma += numeros.charAt(tamanho - i) * pos--;
      if (pos < 2)
        pos = 9;
    }
    resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;
    if (resultado != digitos.charAt(1))
      return false;

    return true;

  }

    //Na linha 3, eliminamos todos os caracteres não númericos do CNPJ passado como parâmetro, 
    //considerando que quem invocou a função pode ter utilizado-se de uma possível máscara no campo.

    //A instrução if da linha 7 verifica se a quantidade de numerais da string
    // (considerando-a já limpa) é igual a quantidade correta - 14.

    //As linha 10 à 21 checam se a string é formado apenas por valores iguais. 
    //Esta verificação é necessária uma vez que se aplicarmos o algoritmo do CNPJ.

    //As linha 23 à 49 checam os dois dígitos verificadores, 
    //verificando sua validade de acordo com o algoritmo do CNPJ. Caso negativo, a validação retorna false encerrando a função.

    //Caso o algoritmo alcance a linha 51 temos um CNPJ válido e o valor true é retornado.


</script>